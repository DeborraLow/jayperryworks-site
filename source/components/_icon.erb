<%# A simple partial for inserting SVG sprites. %>
<%# @param id: (string) the ID of the sprite you want %>
<%# @param classes: (string, optional) any classes you'd like to add.  %>
<%# @param role: ARIA role. use either 'img' (default) or 'presentation'. %>
<%# -> "presentation" designates it as simply decoration (and should be ignored by screenreaders) %>
<%# -> while "img" says it should have its own description. In the latter case, the title attribute acts like an alt tag. %>

<% classes ||= "" %>
<% title ||= "" %>
<% role ||= "img" %>
<% fallback ||= "#{id}.png" %>
<svg class="icon <%= id %><%= " #{classes}" %>" title="<%= title %>" role="<%= role %>">
  <use xlink:href="#<%= id %>"></use>
  <image src="<%= asset_url(fallback) %>" xlink:href="" />
</svg>

<%# usage: %>
<%# partial("components/icon", :locals => { :id => "[ NAME OF ICON ]", :classes => "[ ADDITIONAL CLASSES ]", :role => "img" }) %>
